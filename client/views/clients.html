<template name = "clients">

  <head>
      <meta charset="utf-8">
      <!-- This file has been downloaded from Bootsnipp.com. Enjoy! -->
      <title>Javascript CRUD App  - Bootsnipp.com</title>
          <meta name="viewport" content="width=device-width, initial-scale=1">
      <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
      <style type="text/css">
          .btn-danger {
        color: #fff;
        background-color: #d9534f;
        border-color: #d43f3a;
        margin-left: 10px;
      }
      </style>
      <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
      <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  </head>
  <body>
  <head>
    <meta charset="utf-8">
    <!-- This file has been downloaded from Bootsnipp.com. Enjoy! -->
    <title>CRUD - Bootsnipp.com</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">

    </style>

  </head>
  <body>

    <div class="container">
     <div class="row">


      <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" type="text/css" rel="stylesheet">



      <!-- FORM  -->
      <div class="col-md-12">

       <form class="form-horizontal" id="form-edit-client">
        <fieldset>


          <!-- Form Name -->
          <legend>Cadastro de Funcionário</legend>

          <!-- Nome-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="client-name">Nome<h11>*</h11></label>
            <div class="col-md-4">
              <input id="client-name" name="client-name" type="text" placeholder="o nome do seu cliente" class="form-control input-md">
              <span class="help-block"> o nome completo do nosso cliente</span>
            </div>
          </div>

          <!-- Nascimento-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="client-nascimento">Nascimento<h11>*</h11></label>
            <div class="col-md-4">
              <input id="client-nascimento" name="client-nascimento" type="date" placeholder="DD/MM/AAAA" class="form-control input-md">
              <span class="help-block">o número do seu nascimento</span>
            </div>
          </div>


          <!-- Telefone-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="client-telefone">Telefone<h11>*</h11></label>
            <div class="col-md-4">
              <input id="client-telefone" name="client-telefone" type="text" size="5" maxlength="10" placeholder="xx xxxx-xxxx" class="form-control input-md">
              <span class="help-block">o número do seu telefone</span>
            </div>
          </div>



          <!-- Cep-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="client-cep">CEP<h11>*</h11></label>
            <div class="col-md-4">
              <input id="client-cep" name="client-cep" type="text" size="5" maxlength="8" placeholder="xxxxxxxx" class="form-control input-md">
              <span class="help-block">o endereço de um CEP</span>
            </div>
          </div>

          <!-- Cpf -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="client-name">CPF<h11>*</h11></label>
            <div class="col-md-4">
              <input id="client-cpf" name="client-cpf" type="number" placeholder="xxx.xxx.xxx-xx" class="form-control input-md">
              <span class="help-block">o número de CPF válido</span>
            </div>
          </div>

          <!-- Email-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="client-email">Email<h11>*</h11></label>
            <div class="col-md-4">
              <div class="input-group">
                <span class="input-group-addon">@</span>
                <input id="client-email" name="client-email"  class="form-control" placeholder="seunome@seudomínio.com" type="email">
              </div>
              <p class="help-block">E-mail do seu cliente</p>
            </div>
          </div>





          <!-- Button -->
        </fieldset>
      </form>
      <div class="form-group">
            <label class="col-md-4 control-label" for="btn-save"></label>
            <div class="col-md-4" id="saveupdate">
              <button id="btn-save" name="btn-save" class="btn btn-success" onclick="addClient()">Ok</button>
            </div>
          </div>
    </div>




    <!-- LIST -->
    <div class=col-md-12>
         <legend>Lista de clientes</legend>

        <table class="table table-bordered table-condensed table-hover">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Nascimento</th>
              <th>Telefone</th>
              <th>Cep</th>
              <th>CPF</th>
              <th>Email</th>
              <th>Ações</th>
            </tr>

          </thead>
          <tbody id="form-list-client-body">

          </tbody>
        </table>


    </div>


    <br> 

    <!-- view -->




  </div>
  </div>

  <script type="text/javascript">

  </script>
  </body>


  <script type="text/javascript">
  var clients=[];
    var myIndex;
     function addClient(){

      var newClient={
        name:document.getElementById("client-name").value,
        nascimento:document.getElementById("client-nascimento").value,
        telefone:document.getElementById("client-telefone").value,
        cep:document.getElementById("client-cep").value,
        cpf:document.getElementById("client-cpf").value,
        email:document.getElementById("client-email").value
      }
      clients.push(newClient)
      displayClients()
    }

    function displayClients(){
      document.getElementById("form-list-client-body").innerHTML=""
      for (i=0;i<clients.length;i++){
        var myTr=document.createElement("tr")
        for(a in clients[i]){
          var mytd=document.createElement("td")
          mytd.innerHTML=clients[i][a]
          myTr.appendChild(mytd)
        }
        var actionTd=document.createElement("td")
        var editBtn=document.createElement("button")
        editBtn.innerHTML="Edit"
        editBtn.setAttribute("class" , "btn btn-sm btn-primary")
        editBtn.setAttribute("onclick" , "editClient("+i+")")

        var deletebtn=document.createElement("button")
        deletebtn.innerHTML="Delete"
        deletebtn.setAttribute("class" , "btn btn-sm btn-danger")
        deletebtn.setAttribute("onclick" , "deleteClient("+i+")")

        actionTd.appendChild(editBtn)
        actionTd.appendChild(deletebtn)
        myTr.appendChild(actionTd)
        document.getElementById("form-list-client-body").appendChild(myTr)

        }
        document.getElementById("client-name").value="";
        document.getElementById("client-nascimento").value="";
        document.getElementById("client-telefone").value="";
        document.getElementById("client-cep").value="";
        document.getElementById("client-cpf").value="";
        document.getElementById("client-email").value=""
    }

    //Editing Client
    function editClient(i){
      console.log(clients[i])
      myIndex=i;
      var updatebtn=document.createElement("button")
      updatebtn.innerHTML="Update";
      updatebtn.setAttribute("class", "btn btn-sm btn-success")
      updatebtn.setAttribute("onclick","updClient()")
      document.getElementById("saveupdate").innerHTML=""
      document.getElementById("saveupdate").appendChild(updatebtn);
      document.getElementById("client-name").value=clients[i].name
      document.getElementById("client-nascimento").value=clients[i].nascimento
      document.getElementById("client-telefone").value=clients[i].telefone
      document.getElementById("client-cep").value=clients[i].cep
      document.getElementById("client-cpf").value=clients[i].cpf
      document.getElementById("client-email").value=clients[i].email
    }

    //Updating Client
    function updClient(){
      var updatedClient={
        name:document.getElementById("client-name").value,
        nascimento:document.getElementById("client-nascimento").value,
        telefone:document.getElementById("client-telefone").value,
          cep:document.getElementById("client-cep").value,
          cpf:document.getElementById("client-cpf").value,
        email:document.getElementById("client-email").value
      }
      clients[myIndex]=updatedClient;
      var crbtn=document.createElement("button")
      crbtn.innerHTML="Save";
      crbtn.setAttribute("onclick","addClient()")
      crbtn.setAttribute("class","btn btn-sm btn-success")
      document.getElementById("saveupdate").innerHTML=""

      document.getElementById("saveupdate").appendChild(crbtn);

      displayClients()
    }

    //deleting client
    function deleteClient(i){
      clients.splice(i,1)
      displayClients()
    }
  </script>
  </body>

</template>
